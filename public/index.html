<h1>Hello! From Webassembly</h1>
<pre id="setResult">

</pre>

<script>
    WebAssembly.instantiateStreaming(fetch('program.wasm'))
        .then(results => {
            console.log('WASM Loaded................');


            // just make it global and understand wasm binary
            window.wasm = results;
            console.log('Data is loaded to window object', results);


            // Now, Keep closer look at WASM file
            let modules =  WebAssembly.Module.exports(results.module);
            console.log('WASM modules', modules);
            document.getElementById("setResult").innerText = JSON.stringify(modules);


            // exports wasm methods
            let exports = results.instance.exports;
            exports.setNumber(120);
            let number = exports.getNumber();
            console.log(number);

            alert('Number is: '+ number)


        });

</script>
